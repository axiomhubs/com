!function(t){function e(e){t(document).on("googleMapAutoInit",".google-map",function(e){n(t(this))}),e.trigger("googleMapAutoInit")}function n(e){var n=e.attr("id"),a={id:n,map:null,settings:n in window.googleMapSettings?window.googleMapSettings[n]:null,markers:[],bounds:null};if(a.settings&&a.settings.autoInit){if(a.settings.options.center?a.settings.options.center=new google.maps.LatLng(a.settings.options.center.lat,a.settings.options.center.lng):a.settings.options.center=new google.maps.LatLng(0,0),a.map=new google.maps.Map(document.getElementById(n),a.settings.options),a.settings.autoAddMarkers){a.bounds=new google.maps.LatLngBounds;for(var o in a.settings.points){var i=a.settings.points[o],s=new google.maps.LatLng(i.lat,i.lng),g={markerIndex:parseInt(o),position:s,map:a.map,title:i.title};a.settings.allowDraggableMarkers&&(g.draggable=!0);var r=new google.maps.Marker(g);a.settings.allowDraggableMarkers&&r.addListener("drag",function(){t(this.map.getDiv()).trigger("googleMapMarkerDrag",[t(this.map.getDiv()),this])}),a.markers.push(r),a.bounds.extend(s)}a.settings.points.length&&(a.map.fitBounds(a.bounds),google.maps.event.addListenerOnce(a.map,"idle",function(){var e=t(this.getDiv()).data("map-data");e.map.getZoom()>e.settings.options.zoom&&e.map.setZoom(e.settings.options.zoom)}))}a.initialized=!0,e.data("map-data",a),e.addClass("map-initialized"),e.trigger("mapInitialized")}e.data("map-data",a),e.addClass("map-configured"),e.trigger("mapConfigured")}t(document).ready(function(){e(t(".google-map"))})}(jQuery);